{"version":3,"sources":["features/creating/CreateGame.module.scss","features/creating/DrawGrid.module.scss","components/MyMenubar.module.scss","features/menu/MainMenu.module.scss","features/playing/GuessButton.module.scss","features/playing/BlankCell.module.scss","myHistory.ts","api/kakuroApi.ts","utils/authHeader.ts","store/userSlice.ts","components/MyMenubar.tsx","features/alerts/alertSlice.ts","features/alerts/Alerts.tsx","utils/getHints.ts","utils/combinations.ts","utils/solvePuzzle.ts","utils/getCombinations.ts","store/gameSlice.ts","utils/pencilmarks.ts","utils/checkPuzzle.ts","utils/doMakeHintCells.ts","utils/preparePuzzle.ts","store/designSlice.ts","features/creating/DesignPanel.tsx","features/creating/HintDialog.tsx","features/creating/DesignCell.tsx","features/creating/DrawGrid.tsx","features/creating/SaveGame.tsx","utils/validateGrid.ts","features/creating/SetCells.tsx","features/creating/SetHints.tsx","components/MyInput.tsx","components/MySelectButton.tsx","components/MySlider.tsx","features/creating/SetSize.tsx","features/creating/CreateGame.tsx","features/menu/MainMenu.tsx","features/playing/CombinationLine.tsx","features/playing/GuessButton.tsx","features/playing/Controls.tsx","features/playing/BlankCell.tsx","features/playing/HintCell.tsx","features/playing/NumberCell.tsx","features/playing/GameGrid.tsx","features/playing/PlayGame.tsx","features/users/SignIn.tsx","features/users/SignUp.tsx","store/store.ts","App.tsx","reportWebVitals.ts","index.tsx","features/creating/SaveGame.module.scss","features/playing/CombinationLine.module.scss","features/playing/Controls.module.scss","features/creating/DesignCell.module.scss","features/creating/HintDialog.module.scss","features/playing/GameGrid.module.scss","features/playing/NumberCell.module.scss"],"names":["module","exports","createHashHistory","kakuroApi","axios","create","baseURL","process","authHeader","user","token","localStorage","getItem","Authorization","console","log","storeduser","JSON","parse","decoded","decode","Date","now","exp","removeItem","error","initialState","isLoggedIn","isRequesting","userSlice","createSlice","name","reducers","loginSuccess","state","action","payload","logoutFailed","logoutSuccess","signUpSuccess","signUpFailed","submitting","requestFailed","code","response","status","actions","MyMenubar","dispatch","useDispatch","useSelector","users","startItem","className","styles","menuItems","label","icon","command","myHistory","push","disabled","endItem","onClick","a","post","headers","stringify","model","start","end","alertSlice","alerts","pageTitle","isFetching","notFound","clearAlert","setAlert","alert","severity","setNotFound","setErrorAlert","summary","setSuccessAlert","setIsFetching","setPageTitle","document","title","Alerts","toastEl","useRef","useEffect","Object","keys","forEach","key","current","show","detail","ref","getHints","game","index","hints","sum","count","used","Array","hIndex","cells","type","CellType","NumberCell","cell","guess","hintHorizontal","columnCount","vIndex","hintVertical","nextRow","length","combinations","digits","fill","_makeCombinations","min","set","digitsToCombination","makeCombinations","freeze","solutions","getCombinations","combs","filter","c","every","h","includes","_solvePuzzle","solvedGame","nc","solution","pencilMarks","nCell","rowData","getRowForCell","columnData","getColumnForCell","p","usedDigits","hint","tempGame","makePencilmarks","singlePencilmarksToGuess","solvePuzzle","Difficulty","PuzzleStates","original","map","logSolution","across","delta","x","cellIndexes","y","setGuess","i","pm","guessNumber","makePencilmarksForCell","hComb","vComb","hDigits","from","Set","flat","vDigits","poss","e","sort","gameSlice","setCurrentGame","fetchGameSuccess","setSelectedIndex","currentIndex","selectedIndex","newGame","currentCell","togglePencilMark","indexOf","splice","autoPencil","checkPuzzle","puzzle","HintCell","hc","doMakeHintCells","nextColumn","BlankCell","preparePuzzle","Direction","DesignStepsEnum","cellString","join","newServerGame","designSteps","createGrid","columns","rows","item","activeStep","level","rowCount","Raw","designSlice","setActiveStep","setItem","setBaseGame","clearDesignGame","setPuzzleState","updateCell","newCell","makeHintCells","solveGameSuccess","Solved","solveGameFailed","InsertHints","checkGameSuccess","Valid","createGameSuccess","DesignPanel","props","handleBack","handleNext","children","design","headerTemplate","options","titleClassName","HintDialog","down","visible","onHide","useState","setOptions","renderButtons","groupData","minSum","Math","maxSum","max","buttonGrid","n","acrossHint","handleClick","classNames","button","numbers","header","style","width","modal","DesignCell","dialogVisible","setDialogVisible","renderHint","value","hintStr","hintClass","hintMissing","classnames","designCell","DrawGrid","gameBackground","grid","gridTemplateColumns","SaveGame","exportVisible","setExportVisible","puzzleJSON","setPuzzleJSON","getState","result","values","data","message","validatePuzzle","numberCount","valid","SetCells","res","SetHints","isValid","MyInput","htmlFor","dangerouslySetInnerHTML","__html","component","MySlider","field","setFieldValue","id","onChange","event","handleChange","difficulties","PuzzleSchema","Yup","shape","required","SetSize","importVisible","setImportVisible","initialValues","formikRef","handleSubmit","handleImport","newPuzzle","enableReinitialize","onSubmit","validationSchema","innerRef","as","InputText","MySelectButton","target","CreateGame","puzzleStateJSON","createGame","createSteps","activeIndex","MainMenu","content","to","CombinationLine","possibilities","setPossibilities","renderPossibility","direction","possibility","d","highlight","renderDigit","renderPossibilities","b","renderLine","text","GuessButton","digit","pencilMark","guessButton","Controls","renderButton","controls","guessButtons","blank","number","selected","GameGrid","get","gamegrid","onKeyDown","tabIndex","gridTemplateRows","renderCell","renderGrid","PlayGame","SignIn","height","email","password","resourceType","resources","login","UserSchema","SignUp","signUp","rootReducer","combineReducers","alertReducer","gameReducer","designReducer","userReducer","store","configureStore","devTools","reducer","App","history","path","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8d770189.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"createGame\":\"CreateGame_createGame__t-nS6\",\"createSteps\":\"CreateGame_createSteps__3TBZt\",\"p-steps\":\"CreateGame_p-steps__1OyM9\",\"p-steps-item\":\"CreateGame_p-steps-item__2Lv77\",\"p-menuitem-link\":\"CreateGame_p-menuitem-link__3yOB-\",\"p-steps-title\":\"CreateGame_p-steps-title__6eRPZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameBackground\":\"DrawGrid_gameBackground__2dTqA\",\"grid\":\"DrawGrid_grid__XoYjv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"startItem\":\"MyMenubar_startItem__5gsTl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MainMenu_content__1zXTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"guessButton\":\"GuessButton_guessButton__2HTay\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"blank\":\"BlankCell_blank__h84dH\"};","import { createHashHistory } from 'history';\n\nexport default createHashHistory();\n","import axios from 'axios';\n\nconst kakuroApi = axios.create({\n  baseURL: process.env.REACT_APP_KAKURO_API_ENDPOINT || 'http://192.168.168.4:5000'\n});\n\nexport default kakuroApi;\n","function authHeader(): {\n  Authorization: string;\n} | {\n  Authorization: null;\n} {\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    return { Authorization: `Bearer ${token}` };\n  } else {\n    return { Authorization: null };\n  }\n}\n\nexport default authHeader;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { decode } from 'jsonwebtoken';\nimport kakuroApi from '../api/kakuroApi';\nimport authHeader from '../utils/authHeader';\nimport { AppThunk } from './store';\n\nexport interface IUser {\n  id: string;\n  name: string;\n  email: string;\n}\n\nexport interface ISigninValues {\n  email: string;\n  password: string;\n}\n\nexport interface ISignUpValues extends ISigninValues {\n  name: string;\n}\n\nexport interface IUserState {\n  isLoggedIn: boolean;\n  isRequesting: boolean;\n  user: IUser | null;\n  error: string | null;\n}\n\nexport interface IUnauthorizedPayload {\n  resourceType: string;\n  resources: string[];\n  // status: number;\n  // message: string;\n  response: any;\n}\n\n// TODO: check token\nlet user;\nconsole.log('userSlice: loading user from storage...');\ntry {\n  const storeduser = localStorage.getItem('user');\n  user = storeduser != null ? JSON.parse(storeduser) : null;\n  const token = localStorage.getItem('token');\n\n  if (token) {\n    let decoded: any = decode(token);\n\n    if (Date.now() >= decoded.exp * 1000) {\n      console.log('token expired');\n      localStorage.removeItem('user');\n      localStorage.removeItem('token');\n      user = null;\n    }\n  }\n} catch (error) {\n  localStorage.removeItem('user');\n  localStorage.removeItem('token');\n  user = null;\n}\n\nconst initialState: IUserState = {\n  isLoggedIn: user == null ? false : true,\n  isRequesting: false,\n  user,\n  error: null,\n};\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    loginSuccess(state, action: PayloadAction<IUser>) {\n      state.user = action.payload;\n      state.isLoggedIn = action.payload != null;\n      state.error = null;\n      state.isRequesting = false;\n    },\n    logoutFailed(state, action: PayloadAction<string>) {\n      state.error = action.payload;\n      state.user = null;\n      state.isLoggedIn = false;\n      state.isRequesting = false;\n    },\n    logoutSuccess(state) {\n      state.user = null;\n      state.isLoggedIn = false;\n      state.error = null;\n      state.isRequesting = false;\n    },\n    signUpSuccess(state, action: PayloadAction<IUser>) {\n      state.user = action.payload;\n      state.isLoggedIn = action.payload != null;\n      state.error = null;\n      state.isRequesting = false;\n    },\n    signUpFailed(state, action: PayloadAction<string>) {\n      state.error = action.payload;\n      state.user = null;\n      state.isLoggedIn = false;\n      state.isRequesting = false;\n    },\n    submitting(state) {\n      state.isRequesting = true;\n    },\n    requestFailed(state, action: PayloadAction<IUnauthorizedPayload>) {\n      console.log('action.payload:', action.payload);\n\n      // console.log('state:', state);\n      // console.log('action:', action);\n      const code = action.payload.response.status;\n\n      if (code === 401 || code === 403) {\n        // Unauthorized\n        localStorage.removeItem('user');\n        localStorage.removeItem('token');\n        state.user = null;\n        state.isLoggedIn = false;\n        state.error = null;\n        state.isRequesting = false;\n      }\n    },\n  },\n});\n\nexport const {\n  loginSuccess,\n  logoutFailed,\n  logoutSuccess,\n  requestFailed,\n  signUpFailed,\n  signUpSuccess,\n  submitting,\n} = userSlice.actions;\n\nexport default userSlice.reducer;\n\nexport const login =\n  (values: ISigninValues): AppThunk =>\n  async dispatch => {\n    dispatch(submitting());\n    let user, token;\n    try {\n      const response = await kakuroApi.post('/users/login', values);\n      user = response.data.user;\n      token = response.data.token;\n\n      localStorage.setItem('user', JSON.stringify(user));\n      localStorage.setItem('token', token);\n    } catch ({ response }) {\n      dispatch(\n        requestFailed({ resourceType: 'users', resources: [], response })\n      );\n      // dispatch(\n      //   setAlert({\n      //     type: 'error',\n      //     message: 'Beim Anmelden gab es einen Fehler. Bitte probieren Sie es später noch einmal.',\n      //   }),\n      // );\n      return;\n    }\n\n    dispatch(loginSuccess(user));\n    // dispatch(setAlert({ type: 'success', message: 'Sie haben sich erfolgreich angemeldet.' }));\n  };\n\nexport const logout = (): AppThunk => async dispatch => {\n  try {\n    await kakuroApi.post('/users/logout', null, { headers: authHeader() });\n  } catch ({ response }) {\n    dispatch(logoutFailed(JSON.stringify(response)));\n    return;\n  } finally {\n    localStorage.removeItem('user');\n    localStorage.removeItem('token');\n  }\n\n  dispatch(logoutSuccess());\n  // dispatch(setAlert({ type: 'success', message: 'Sie haben sich erfolgreich abgemeldet.' }));\n};\n\nexport const signUp =\n  (values: ISignUpValues): AppThunk =>\n  async dispatch => {\n    dispatch(submitting());\n    let user, token;\n    try {\n      const response = await kakuroApi.post('/users', values);\n      user = response.data.user;\n      token = response.data.token;\n\n      localStorage.setItem('user', JSON.stringify(user));\n      localStorage.setItem('token', token);\n    } catch ({ response }: any) {\n      console.log('response:', response);\n      dispatch(signUpFailed(\"Unable to sign up\"));\n      // dispatch(\n      //   setAlert({\n      //     type: 'error',\n      //     message: 'Beim Anmelden gab es einen Fehler. Bitte probieren Sie es später noch einmal.',\n      //   }),\n      // );\n      return;\n    }\n\n    dispatch(loginSuccess(user));\n    // dispatch(setAlert({ type: 'success', message: 'Sie haben sich erfolgreich angemeldet.' }));\n  };\n","import myHistory from 'myHistory';\nimport { Button } from 'primereact/button';\nimport { Menubar } from 'primereact/menubar';\nimport React from 'react';\nimport { RootState } from 'store/store';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from 'store/userSlice';\nimport styles from './MyMenubar.module.scss';\n\nconst MyMenubar: React.FC = () => {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: RootState) => state.users);\n\n  const startItem = (\n    <div className={styles.startItem}>\n      <h3>Mr K.'s Kakuro</h3>\n    </div>\n  );\n\n  const menuItems = [\n    {\n      label: 'Menu',\n      icon: 'mdi mdi-hamburger',\n      command: () => myHistory.push('/'),\n    },\n    {\n      label: 'Design Puzzle',\n      icon: 'mdi mdi-pencil',\n      command: () => myHistory.push('/create'),\n      disabled: user == null,\n    },\n    {\n      label: 'Play Puzzle',\n      icon: 'mdi mdi-play',\n      command: () => myHistory.push('/play'),\n    },\n  ];\n\n  const endItem = user ? (\n    <Button\n      label={`Sign Out ${user.name}`}\n      icon='mdi mdi-logout'\n      onClick={() => dispatch(logout())}\n    />\n  ) : (\n    <Button\n      label='Sign Up/Sign In'\n      icon='mdi mdi-login'\n      onClick={() => myHistory.push('/signin')}\n    />\n  );\n\n  return <Menubar model={menuItems} start={startItem} end={endItem} />;\n};\n\nexport default MyMenubar;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport interface AlertType {\n  severity: string;\n  summary: string;\n  detail?: string;\n}\n\ntype GlobalSliceState = {\n  alerts: {\n    [key: string]: AlertType;\n  };\n  pageTitle: string | null;\n  isFetching: boolean;\n  notFound: string | null;\n};\n\nconst initialState = {\n  alerts: {},\n  pageTitle: null,\n  isFetching: false,\n  notFound: null,\n};\n\nexport const alertSlice = createSlice({\n  name: 'alerts',\n  initialState: initialState as GlobalSliceState,\n  reducers: {\n    clearAlert(state, action: PayloadAction<string>) {\n      delete state.alerts[action.payload];\n    },\n    setAlert(state, action: PayloadAction<AlertType>) {\n      const alert = action.payload;\n      state.alerts[alert.severity] = alert;\n      state.isFetching = false;\n    },\n    setNotFound(state, action: PayloadAction<string | null>) {\n      state.notFound = action.payload;\n    },\n    setErrorAlert(state, action: PayloadAction<string>) {\n      const alert = { severity: 'error', summary: action.payload };\n      state.alerts[alert.severity] = alert;\n      state.isFetching = false;\n    },\n    setSuccessAlert(state, action: PayloadAction<string>) {\n      const alert = { severity: 'success', summary: action.payload };\n      state.alerts[alert.severity] = alert;\n      state.isFetching = false;\n    },\n    setIsFetching(state, action: PayloadAction<boolean>) {\n      state.isFetching = action.payload;\n    },\n    setPageTitle(state, action: PayloadAction<string>) {\n      state.pageTitle = action.payload;\n      document.title = action.payload;\n    },\n  },\n});\n\nexport const {\n  clearAlert,\n  setAlert,\n  setErrorAlert,\n  setSuccessAlert,\n  setIsFetching,\n  setPageTitle,\n  setNotFound,\n} = alertSlice.actions;\n\nexport default alertSlice.reducer;\n","import { Toast } from 'primereact/toast';\nimport React, { useEffect, useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { clearAlert } from './alertSlice';\nimport { RootState } from 'store/store';\n\nconst Alerts: React.FC = () => {\n  const alerts = useSelector((state: RootState) => state.alerts.alerts);\n  const dispatch = useDispatch();\n  const toastEl = useRef<any>(null);\n\n  useEffect(() => {\n    Object.keys(alerts).forEach((key) => {\n      toastEl.current?.show({\n        severity: key,\n        summary: alerts[key].summary,\n        detail: alerts[key].detail,\n      });\n\n      dispatch(clearAlert(key));\n    });\n  }, [dispatch, alerts]);\n\n  return <Toast ref={toastEl} />;\n};\n\nexport default Alerts;\n","import { CellType, IGameData, IHintCell, INumberCell } from 'store/gameSlice';\n\nexport default function getHints(game: IGameData, index: number) {\n  const hints = [\n    { index: -1, sum: -1, count: -1, used: new Array<number>() },\n    { index: -1, sum: -1, count: -1, used: new Array<number>() },\n  ];\n  let hIndex = index;\n\n  // Find corresponding hint cell horizontally\n  while (game.cells[hIndex].type === CellType.NumberCell) {\n    const cell = game.cells[hIndex] as INumberCell;\n    if (cell.guess > 0) {\n      hints[0].used.push(cell.guess);\n    }\n    hIndex--;\n  }\n\n  hints[0].index = hIndex;\n  hints[0].sum = (game.cells[hIndex] as IHintCell).hintHorizontal! || -1;\n\n  // Find count of cells for this hint\n  hIndex = index;\n  while (\n    (hIndex + 1) % game.columnCount !== 0 &&\n    game.cells[hIndex + 1].type === CellType.NumberCell\n  ) {\n    hIndex++;\n    const cell = game.cells[hIndex] as INumberCell;\n    if (cell.guess > 0) {\n      hints[0].used.push(cell.guess);\n    }\n  }\n\n  hints[0].count = hIndex - hints[0].index;\n\n  // Find corresponding hint cell vertically\n  let vIndex = index;\n  while (game.cells[vIndex].type === CellType.NumberCell) {\n    const cell = game.cells[vIndex] as INumberCell;\n    if (cell.guess > 0) {\n      hints[1].used.push(cell.guess);\n    }\n    vIndex -= game.columnCount;\n  }\n\n  hints[1].index = vIndex;\n  hints[1].sum = (game.cells[vIndex] as IHintCell).hintVertical! || -1;\n\n  // Find count of cells for this hint\n  vIndex = index;\n  let nextRow = vIndex + game.columnCount;\n  while (\n    nextRow < game.cells.length &&\n    game.cells[nextRow].type === CellType.NumberCell\n  ) {\n    vIndex = nextRow;\n    const cell = game.cells[vIndex] as INumberCell;\n    if (cell.guess > 0) {\n      hints[1].used.push(cell.guess);\n    }\n    nextRow = vIndex + game.columnCount;\n  }\n\n  const count = (vIndex - hints[1].index) / game.columnCount;\n  hints[1].count = count;\n\n  return hints;\n}\n","export interface ICombinationsForCount {\n  [sum: string]: number[][];\n}\n\nexport interface ICombinations {\n  [count: string]: ICombinationsForCount;\n}\n\nconst makeCombinations = () => {\n  const combinations: ICombinations = {};\n  const digits = new Array(10).fill(false);\n\n  const digitsToCombination = () => {\n    const set = new Array<number>();\n    let count = 0;\n    let sum = 0;\n\n    for (let index = 1; index < digits.length; index++) {\n      if (digits[index]) {\n        set.push(index);\n        count += 1;\n        sum += index;\n      }\n    }\n\n    if (!combinations[count]) {\n      combinations[count] = {};\n    }\n\n    if (!combinations[count][sum]) {\n      combinations[count][sum] = new Array<number[]>();\n    }\n\n    combinations[count][sum].push(set);\n  };\n\n  const _makeCombinations = (min: number, current: number) => {\n    if (current === 10) {\n      digitsToCombination();\n    } else {\n      digits[current] = true;\n      _makeCombinations(min, current + 1);\n      digits[current] = false;\n      _makeCombinations(min, current + 1);\n      current++;\n    }\n  };\n\n  for (let min = 1; min < 9; min++) {\n    digits[min] = true;\n    _makeCombinations(min, min + 1);\n    digits[min] = false;\n  }\n\n  delete combinations['1'];\n  return combinations;\n};\n\nconst combinations: ICombinations = makeCombinations();\nObject.freeze(combinations);\n\nexport default combinations;\n","import { CellType, IGameData, INumberCell } from 'store/gameSlice';\nimport {\n  makePencilmarks,\n  getRowForCell,\n  singlePencilmarksToGuess,\n  getColumnForCell,\n} from './pencilmarks';\n\nlet solutions: IGameData[];\n\nexport function guessNumber(game: IGameData, index: number, guess: number) {\n  (game.cells[index] as INumberCell).guess = guess;\n  getRowForCell(game, index).cellIndexes.forEach(i => {\n    const nCell = game.cells[i] as INumberCell;\n    nCell.pencilMarks = nCell.pencilMarks.filter(pm => pm !== guess);\n  });\n\n  getColumnForCell(game, index).cellIndexes.forEach(i => {\n    const nCell = game.cells[i] as INumberCell;\n    nCell.pencilMarks = nCell.pencilMarks.filter(pm => pm !== guess);\n  });\n}\n\n// function logBoard(game: IGameData) {\n//   console.log(\n//     'Board',\n//     JSON.stringify(\n//       game.cells\n//         .filter(c => c.type === CellType.NumberCell)\n//         .map(c => (c as INumberCell).guess)\n//     )\n//   );\n// }\n\nfunction logSolution(game: IGameData) {\n  console.log(\n    'Solution',\n    JSON.stringify(\n      game.cells\n        .filter(c => c.type === CellType.NumberCell)\n        .map(c => (c as INumberCell).solution)\n    )\n  );\n}\n\nfunction _solvePuzzle(game: IGameData, index: number) {\n  if (index >= game.cells.length) {\n    // found a solution\n    const solvedGame: IGameData = JSON.parse(JSON.stringify(game));\n    solvedGame.cells.forEach(c => {\n      if (c.type === CellType.NumberCell) {\n        const nc = c as INumberCell;\n        nc.solution = nc.guess;\n        nc.guess = 0;\n        nc.pencilMarks = [];\n      }\n    });\n    solutions.push(solvedGame);\n  } else {\n    const cell = game.cells[index];\n\n    if (cell.type !== CellType.NumberCell || (cell as INumberCell).guess > 0) {\n      // if cell is not a number cell or if there is a guess in it already\n      _solvePuzzle(game, index + 1);\n    } else {\n      // Try all options for current cell's pencil marks\n      // and solve rest of puzzle recursively\n      const nCell: INumberCell = cell as INumberCell;\n      const rowData = getRowForCell(game, cell.index);\n      const columnData = getColumnForCell(game, cell.index);\n\n      nCell.pencilMarks.forEach(p => {\n        // TODO: check if pencil mark is valid option\n        // this should not happen\n        if (\n          rowData.usedDigits.includes(p) ||\n          columnData.usedDigits.includes(p)\n        ) {\n          return;\n        }\n\n        // logBoard(game);\n        // console.log(p, rowData.usedDigits, columnData.usedDigits);\n\n        if (\n          (rowData.usedDigits.length === rowData.count - 1 &&\n            rowData.sum + p !== rowData.hint) ||\n          (columnData.usedDigits.length === columnData.count - 1 &&\n            columnData.sum + p !== columnData.hint)\n        ) {\n          // only one digit missing, check if p is the missing number\n          return;\n        }\n\n        nCell.guess = p;\n        // console.log(`Cell no. ${index}: Guessing ${p}...`);\n\n        const tempGame: IGameData = JSON.parse(JSON.stringify(game));\n        makePencilmarks(tempGame);\n        singlePencilmarksToGuess(tempGame);\n        _solvePuzzle(tempGame, index + 1);\n        nCell.guess = 0;\n      });\n    }\n  }\n}\n\nexport interface ISolvePuzzleResult {\n  error?: string;\n  solution?: IGameData;\n}\n\n/**\n * Solves the entered puzzle. First version is a brute-force to see how long it takes :D\n * @param original the game to be solved\n * @param combinations all possible combinations\n * @returns the solved game\n */\nfunction solvePuzzle(original: IGameData): ISolvePuzzleResult {\n  // create copy of entered game\n  const game: IGameData = JSON.parse(JSON.stringify(original));\n  // create initial pencil marks\n  // logBoard(game);\n  makePencilmarks(game);\n  while (singlePencilmarksToGuess(game)) {}\n\n  solutions = new Array<IGameData>();\n  _solvePuzzle(game, 0);\n  // console.log(`Found ${solutions.length}:`);\n\n  if (solutions.length === 0) {\n    return { error: 'Puzzle invalid; no solution.' };\n  } else if (solutions.length > 1) {\n    return {\n      error: `Puzzle invalid; more than one solution (${solutions.length}).`,\n    };\n  } else {\n    logSolution(solutions[0]);\n    return { solution: solutions[0] };\n  }\n}\n\nexport default solvePuzzle;\n","import { IHintValues } from 'store/gameSlice';\nimport combinations from './combinations';\n\n/**\n *\n * @param hints the computed hints for a particular cell\n * @param combinations all combinations\n */\nexport default function getCombinations(\n  hints: IHintValues,\n) {\n  let combs = combinations[hints.count][hints.sum];\n\n  // only select those combinations which contain every used digit\n  combs = combs.filter(c => hints.used.every(h => c.includes(h)));\n\n  return combs;\n}\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport axios from 'axios';\nimport getHints from 'utils/getHints';\nimport {\n  makePencilmarks,\n  makePencilmarksForCell,\n  singlePencilmarksToGuess,\n} from 'utils/pencilmarks';\nimport { AppThunk } from './store';\n\n/* Types */\nexport enum Difficulty {\n  Easy = 0,\n  Medium = 1,\n  MediumPlus = 2,\n  Hard = 3,\n  VeryHard = 4,\n}\n\nexport enum CellType {\n  BlankCell = 'blankCell',\n  HintCell = 'hintCell',\n  NumberCell = 'numberCell',\n}\n\nexport enum PuzzleStates {\n  Raw = 0,\n  Valid = 1,\n  Solved = 2,\n}\n\nexport interface ICell {\n  index: number;\n  type: CellType;\n}\n\nexport interface IBlankCell extends ICell {\n  type: CellType.BlankCell;\n}\n\nexport interface IHintCell extends ICell {\n  type: CellType.HintCell;\n  hintHorizontal?: number;\n  hintVertical?: number;\n}\n\nexport interface INumberCell extends ICell {\n  type: CellType.NumberCell;\n  pencilMarks: number[];\n  guess: number;\n  solution: number;\n}\n\nexport type IBaseGame = {\n  name: string;\n  columnCount: number;\n  rowCount: number;\n  level: Difficulty;\n};\n\nexport interface IServerGameData extends IBaseGame {\n  state: PuzzleStates;\n  cellString: string;\n}\n\nexport interface IGameData extends IBaseGame {\n  state: PuzzleStates;\n  cells: ICell[];\n}\n\nexport interface IGuess {\n  index: number;\n  guess: number;\n}\n\nexport interface IHintValues {\n  index: number;\n  sum: number;\n  count: number;\n  used: number[];\n}\n\n/* State */\ntype GameSliceState = {\n  game?: IGameData;\n  selectedIndex?: number;\n  hints: IHintValues[];\n};\n\nconst initialState: GameSliceState = {\n  hints: [\n    { index: -1, sum: -1, count: -1, used: new Array<number>() },\n    { index: -1, sum: -1, count: -1, used: new Array<number>() },\n  ],\n};\n\nexport const gameSlice = createSlice({\n  name: 'game',\n  initialState,\n  reducers: {\n    setCurrentGame(state, action: PayloadAction<IGameData>) {\n      const game: IGameData = JSON.parse(JSON.stringify(action.payload));\n      // create pencilmarks for all number cells\n      game.cells\n        .filter(c => c.type === CellType.NumberCell)\n        .forEach(cell => {\n          const nCell = cell as INumberCell;\n          if (!nCell.guess) {\n            nCell.guess = 0;\n          }\n          if (!nCell.pencilMarks) {\n            nCell.pencilMarks = [];\n          }\n        });\n      state.game = game;\n    },\n    fetchGameSuccess(state, action: PayloadAction<IGameData>) {\n      state.game = { ...action.payload };\n      // create pencilmarks for all number cells\n      state.game.cells\n        .filter(c => c.type === CellType.NumberCell)\n        .forEach(cell => {\n          const nCell = cell as INumberCell;\n          if (!nCell.guess) {\n            nCell.guess = 0;\n          }\n          if (!nCell.pencilMarks) {\n            nCell.pencilMarks = [];\n          }\n        });\n    },\n    setSelectedIndex(state, action: PayloadAction<number>) {\n      let currentIndex = action.payload;\n      state.selectedIndex = currentIndex;\n      state.hints = getHints(state.game!, currentIndex);\n    },\n    setGuess(state, action: PayloadAction<IGuess>) {\n      const { index, guess } = action.payload;\n      const newGame: IGameData = JSON.parse(JSON.stringify(state.game));\n      const currentCell: INumberCell = newGame.cells[index] as INumberCell;\n      if (currentCell.type === CellType.NumberCell) {\n        currentCell.guess = guess;\n        if (guess === 0) {\n          makePencilmarksForCell(currentCell, index, newGame);\n        }\n        state.game = newGame;\n      }\n      state.hints = getHints(state.game!, index);\n    },\n    togglePencilMark(state, action: PayloadAction<IGuess>) {\n      const { index, guess } = action.payload;\n      const newGame: IGameData = JSON.parse(JSON.stringify(state.game));\n      const currentCell: INumberCell = newGame.cells[index] as INumberCell;\n\n      if (currentCell.type === CellType.NumberCell) {\n        const index = currentCell.pencilMarks.indexOf(guess);\n\n        if (index < 0) {\n          currentCell.pencilMarks.push(guess);\n          currentCell.pencilMarks.sort();\n        } else {\n          currentCell.pencilMarks.splice(index, 1);\n        }\n        state.game = newGame;\n      }\n    },\n    autoPencil(state, action: PayloadAction) {\n      // set guesses where there is only one pencil mark option\n      singlePencilmarksToGuess(state.game!);\n\n      // calculate pencil marks\n      makePencilmarks(state.game!);\n    },\n  },\n});\n\nexport const {\n  fetchGameSuccess,\n  setSelectedIndex,\n  setCurrentGame,\n  setGuess,\n  autoPencil,\n  togglePencilMark,\n} = gameSlice.actions;\n\nexport default gameSlice.reducer;\n\nexport const fetchGame = (): AppThunk => async (dispatch: any) => {\n  let game;\n  try {\n    const response = await axios.get('puzzles/sample.json', {\n      headers: { 'Access-Control-Allow-Origin': '*' },\n    });\n    game = response.data;\n  } catch (error) {\n    // TODO: Show error\n    // dispatch(setErrorAlert(`error fetching downloads`));\n    return;\n  }\n\n  dispatch(fetchGameSuccess(game));\n};\n","import { CellType, IGameData, IHintCell, INumberCell } from 'store/gameSlice';\nimport getCombinations from './getCombinations';\nimport getHints from './getHints';\nimport { guessNumber } from './solvePuzzle';\n\nexport function getRowForCell(\n  { cells, columnCount }: IGameData,\n  index: number,\n  across = true\n) {\n  const delta = across ? 1 : columnCount;\n  let x = index - delta;\n  let cellIndexes = [];\n  let usedDigits = [];\n  let sum = 0;\n\n  while (cells[x].type === CellType.NumberCell) {\n    x -= delta;\n  }\n\n  let y = x;\n  while (\n    y + delta < cells.length &&\n    cells[y + delta].type === CellType.NumberCell\n  ) {\n    y += delta;\n    cellIndexes.push(y);\n    const nCell = cells[y] as INumberCell;\n    if (nCell.guess) {\n      usedDigits.push(nCell.guess);\n      sum += nCell.guess;\n    }\n  }\n\n  const hint = across\n    ? (cells[x] as IHintCell).hintHorizontal\n    : (cells[x] as IHintCell).hintVertical;\n  const count = (y - x) / delta;\n\n  return { index, hint, count, sum, cellIndexes, usedDigits };\n}\n\nexport function getColumnForCell(game: IGameData, index: number) {\n  return getRowForCell(game, index, false);\n}\n\nexport function guessRemovesPencilmarks(game: IGameData, index: number) {}\n\nexport function singlePencilmarksToGuess(game: IGameData): boolean {\n  let setGuess = false;\n\n  game!.cells.forEach(c => {\n    if (c.type === CellType.NumberCell) {\n      const cell = c as INumberCell;\n      if (cell.guess == null && cell.pencilMarks?.length === 1) {\n        // cell.guess = cell.pencilMarks[0];\n        guessNumber(game, cell.index, cell.pencilMarks[0]);\n        setGuess = true;\n      }\n    }\n  });\n\n  return setGuess;\n}\n\nexport function makePencilmarksForCell(\n  nCell: INumberCell,\n  index: number,\n  game: IGameData\n) {\n  if (nCell.guess > 0) {\n    return;\n  }\n\n  // Filter out impossible combinations\n  const hints = getHints(game, index);\n  const hComb = getCombinations(hints[0]);\n  const vComb = getCombinations(hints[1]);\n  // Get possible digits\n  const hDigits = Array.from(new Set(hComb.flat()));\n  const vDigits = Array.from(new Set(vComb.flat()));\n\n  const used = [...hints[0].used, ...hints[1].used];\n  const poss = hDigits\n    .filter(e => vDigits.includes(e) && !used.includes(e))\n    .sort();\n\n  nCell.pencilMarks = poss;\n}\n\nexport function makePencilmarks(game: IGameData) {\n  game.cells.forEach((cell, index) => {\n    if (cell.type === CellType.NumberCell) {\n      makePencilmarksForCell(cell as INumberCell, index, game);\n    }\n  });\n}\n","import { CellType, IGameData, IHintCell } from 'store/gameSlice';\n\nfunction checkPuzzle(puzzle: IGameData) {\n  const { cells } = puzzle;\n  // TODO: Which clever checks should we implement?\n  // * are the sums possible?\n  // * are the values of rows and columns correct?\n\n  // * do all hint cells have all necessary hints?\n  return cells\n    .filter(c => c.type === CellType.HintCell)\n    .every(c => {\n      if (c == null) {\n        return true;\n      }\n      const hc = c as IHintCell;\n      return (\n        (!hc.hintHorizontal || hc.hintHorizontal > -1) &&\n        (!hc.hintVertical || hc.hintVertical > -1)\n      );\n    });\n}\n\nexport default checkPuzzle;\n","import { CellType, ICell, IGameData, IHintCell } from 'store/gameSlice';\n\nfunction doMakeHintCells(puzzle: IGameData) {\n  const { cells } = puzzle;\n\n  // no hint cells in last cell\n  for (let index = 0; index < cells.length - 1; index++) {\n    const cell: ICell = cells[index];\n    const nextColumn = index + 1;\n    const nextRow = index + puzzle.columnCount;\n\n    if (cell.type === CellType.BlankCell) {\n      if (cells[nextColumn].type === CellType.NumberCell) {\n        cell.type = CellType.HintCell;\n        (cell as IHintCell).hintHorizontal = -1;\n      }\n\n      if (\n        nextRow < cells.length &&\n        cells[nextRow].type === CellType.NumberCell\n      ) {\n        cell.type = CellType.HintCell;\n        (cell as IHintCell).hintVertical = -1;\n      }\n    } else if (cell.type === CellType.HintCell) {\n      // check if hint cell is no longer a hint cell\n      if (\n        cells[nextColumn].type !== CellType.NumberCell &&\n        cells[nextRow].type !== CellType.NumberCell\n      ) {\n        cell.type = CellType.BlankCell;\n      }\n    }\n  }\n}\n\nexport default doMakeHintCells;\n","import {\n  CellType,\n  IGameData,\n  INumberCell,\n  IServerGameData,\n} from 'store/gameSlice';\n\nfunction preparePuzzle(game: IGameData): IServerGameData {\n  const cellString = game.cells\n    .map(cell =>\n      cell.type !== CellType.NumberCell ? 0 : (cell as INumberCell).solution\n    )\n    .join('');\n\n  const { cells, ...newGame } = game;\n  const newServerGame = newGame as IServerGameData;\n  newServerGame.cellString = cellString;\n  console.log('newServerGame:', newServerGame);\n  return newServerGame;\n}\n\nexport default preparePuzzle;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport kakuroApi from 'api/kakuroApi';\nimport { setErrorAlert, setSuccessAlert } from 'features/alerts/alertSlice';\nimport myHistory from 'myHistory';\nimport authHeader from 'utils/authHeader';\nimport checkPuzzle from 'utils/checkPuzzle';\nimport doMakeHintCells from 'utils/doMakeHintCells';\nimport preparePuzzle from 'utils/preparePuzzle';\nimport solvePuzzle from 'utils/solvePuzzle';\nimport {\n  CellType,\n  IBaseGame,\n  IGameData,\n  INumberCell,\n  PuzzleStates,\n} from './gameSlice';\nimport { AppThunk } from './store';\n\nexport enum Direction {\n  Horizontal = 0,\n  Vertical = 1,\n  Both = 2,\n}\n\nexport interface IDesignCell {\n  type: CellType;\n  index: number;\n  hintHorizontal?: number;\n  hintVertical?: number;\n  solution?: number;\n}\n\nexport enum DesignStepsEnum {\n  SetSize = 0,\n  DrawGrid = 1,\n  InsertHints = 2,\n  CheckPuzzle = 3,\n}\n\nexport const designSteps = [\n  { label: 'Set Size' },\n  { label: 'Draw Grid' },\n  { label: 'Insert Hints' },\n  { label: 'Check Puzzle' },\n];\n\ntype DesignSliceState = {\n  activeStep: number;\n  puzzle: IGameData;\n};\n\nconst createGrid = (columns: number, rows: number) =>\n  Array.from({ length: columns * rows }, (item, index) => ({\n    index,\n    type: CellType.BlankCell,\n  }));\n\nconst initialState: DesignSliceState = {\n  activeStep: 0,\n  puzzle: {\n    name: 'Unnamed',\n    level: 4,\n    columnCount: 10,\n    rowCount: 10,\n    cells: createGrid(10, 10),\n    state: PuzzleStates.Raw,\n  },\n};\n\nexport const designSlice = createSlice({\n  name: 'design',\n  initialState,\n  reducers: {\n    setActiveStep: (state, action) => {\n      state.activeStep = action.payload;\n      localStorage.setItem('puzzleState', JSON.stringify(state));\n    },\n    setBaseGame: (state, action: PayloadAction<IBaseGame>) => {\n      state.puzzle = { ...state.puzzle, ...action.payload };\n      state.puzzle.cells = createGrid(\n        state.puzzle.columnCount,\n        state.puzzle.rowCount\n      );\n    },\n    clearDesignGame: () => {\n      localStorage.removeItem('puzzleState');\n      return initialState;\n    },\n    setPuzzleState: (state, action: PayloadAction<DesignSliceState>) => {\n      return action.payload;\n    },\n    updateCell: (state, action) => {\n      const newCell = action.payload;\n      if (\n        newCell.type === CellType.NumberCell &&\n        !(newCell as INumberCell).guess\n      ) {\n        (newCell as INumberCell).guess = 0;\n      }\n      state.puzzle.cells[newCell.index] = newCell;\n      state.puzzle.state = PuzzleStates.Raw;\n    },\n    makeHintCells: state => {\n      doMakeHintCells(state.puzzle);\n    },\n    solveGameSuccess: (state, action: PayloadAction<IGameData>) => {\n      state.puzzle = action.payload;\n      state.puzzle.state = PuzzleStates.Solved;\n    },\n    solveGameFailed: state => {\n      state.puzzle.state = PuzzleStates.Raw;\n      state.activeStep = DesignStepsEnum.InsertHints;\n    },\n    checkGameSuccess: state => {\n      state.puzzle.state = PuzzleStates.Valid;\n    },\n    createGameSuccess: () => {\n      myHistory.push('/');\n      localStorage.removeItem('puzzleState');\n      return initialState;\n    },\n  },\n});\n\nexport const {\n  checkGameSuccess,\n  clearDesignGame,\n  createGameSuccess,\n  setActiveStep,\n  setBaseGame,\n  setPuzzleState,\n  makeHintCells,\n  solveGameSuccess,\n  solveGameFailed,\n  updateCell,\n} = designSlice.actions;\n\nexport default designSlice.reducer;\n\nexport const checkGame = (): AppThunk => async (dispatch: any, getState) => {\n  const { puzzle } = getState().design;\n  const isValid = checkPuzzle(puzzle);\n\n  if (isValid) {\n    dispatch(setSuccessAlert('Puzzle is valid.'));\n    dispatch(checkGameSuccess());\n  } else {\n    dispatch(setErrorAlert(`Puzzle invalid`));\n  }\n};\n\nexport const solveGame = (): AppThunk => async (dispatch: any, getState) => {\n  const { puzzle } = getState().design;\n  const result = solvePuzzle(puzzle);\n\n  if (result.error) {\n    dispatch(setErrorAlert(`Puzzle invalid: ${result.error}`));\n    dispatch(solveGameFailed());\n  } else {\n    dispatch(setSuccessAlert('Puzzle solved.'));\n    dispatch(solveGameSuccess(result.solution!));\n  }\n};\n\nexport interface IApiError {\n  status: number;\n  statusText: string;\n}\n\nexport const createGame =\n  (values: IGameData): AppThunk =>\n  async (dispatch: any) => {\n    // dispatch(submitting());\n    let puzzle = preparePuzzle(values);\n\n    try {\n      const response = await kakuroApi.post('/puzzles', puzzle, {\n        headers: authHeader(),\n      });\n      puzzle = response.data;\n    } catch (error) {\n      console.log('error:', JSON.stringify(error));\n      dispatch(\n        setErrorAlert(\n          `Error trying to save puzzle: ${(error as Error).message}`\n        )\n      );\n      return;\n    }\n\n    dispatch(createGameSuccess());\n    dispatch(setSuccessAlert('Puzzle erzeugt.'));\n  };\n","import { Panel } from 'primereact/panel';\nimport { Button } from 'primereact/button';\nimport React, { FunctionComponent } from 'react';\nimport { useSelector } from 'react-redux';\nimport { designSteps } from 'store/designSlice';\nimport { RootState } from '../../store/store';\n\ninterface Props {\n  children?: JSX.Element | JSX.Element[];\n  handleBack?: () => void;\n  handleNext?: () => void;\n}\n\nconst DesignPanel: FunctionComponent<Props> = props => {\n  const { handleBack, handleNext, children } = props;\n  const { activeStep } = useSelector((state: RootState) => state.design);\n\n  const headerTemplate = (options: any) => {\n    const className = `${options.className} p-jc-start`;\n    const titleClassName = `${options.titleClassName} p-pl-1`;\n\n    return (\n      <div className={className}>\n        <span className={titleClassName}>\n          Step {activeStep + 1}: {designSteps[activeStep].label}\n        </span>\n\n        <span className={titleClassName}>\n          <Button\n            label='Back'\n            icon='mdi mdi-arrow-left'\n            onClick={handleBack}\n            disabled={handleBack == null}\n          />\n\n          <Button\n            label='Next'\n            icon='mdi mdi-arrow-right'\n            onClick={handleNext}\n            // disabled={activeStep === designSteps.length - 1}\n            disabled={handleNext == null}\n          />\n        </span>\n      </div>\n    );\n  };\n\n  return <Panel headerTemplate={headerTemplate}>{children}</Panel>;\n};\n\nexport default DesignPanel;\n","import classNames from 'classnames';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CellType } from 'store/gameSlice';\nimport { RootState } from 'store/store';\nimport combinations from 'utils/combinations';\nimport { getRowForCell } from 'utils/pencilmarks';\nimport { IDesignCell, updateCell } from '../../store/designSlice';\nimport styles from './HintDialog.module.scss';\n\nexport interface Props {\n  cell: IDesignCell;\n  across: boolean;\n  down: boolean;\n  visible: boolean;\n  onHide: () => void;\n}\n\nconst HintDialog: React.FC<Props> = ({\n  cell,\n  across,\n  down,\n  visible,\n  onHide,\n}) => {\n  const { puzzle } = useSelector((state: RootState) => state.design);\n  const [options, setOptions] = useState<number[]>([]);\n  const dispatch = useDispatch();\n\n  const handleClick = (n: number, acrossHint: boolean) => {\n    const newCell = { ...cell, type: CellType.HintCell };\n    if (acrossHint) {\n      newCell.hintHorizontal = n;\n    } else {\n      newCell.hintVertical = n;\n    }\n\n    dispatch(updateCell(newCell));\n    if (!acrossHint || !down) {\n      onHide();\n    }\n  };\n\n  const renderButtons = (across: boolean) => {\n    const groupData = getRowForCell(\n      puzzle,\n      cell.index + (across ? 1 : puzzle.columnCount),\n      across\n    );\n\n    // console.log('groupData.index', groupData.index, 'groupData.count', groupData.count);\n    // const minSum = 3;\n    // const maxSum = 45;\n    const combs = Object.keys(combinations[groupData.count]).map(e => +e);\n    const minSum = Math.min(...combs);\n    const maxSum = Math.max(...combs);\n\n    return (\n      <div className=''>\n        <div className={styles.label}>{across ? 'Across' : 'Down'}</div>\n        <div className={styles.buttonGrid}>\n          {options.map(n => (\n            <Button\n              key={n}\n              label={n < minSum || n > maxSum ? '' : '' + n}\n              onClick={() => handleClick(n, across)}\n              disabled={n < minSum || n > maxSum}\n              className={classNames(\n                'p-button-rounded',\n                styles.button,\n                across ? 'p-button-success' : 'p-button-info'\n              )}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    // const numbers = Array.from({ length: 43 }, (e, i) => i + 3);\n    const numbers = Array.from({ length: 46 }, (e, i) => i);\n    setOptions(numbers);\n  }, []);\n\n  return (\n    <Dialog\n      header='Set number(s) for hint cell'\n      style={{ width: '30vw' }}\n      visible={visible}\n      modal={true}\n      onHide={onHide}>\n      {across && renderButtons(true)}\n      {down && renderButtons(false)}\n    </Dialog>\n  );\n};\n\nexport default HintDialog;\n","import classnames from 'classnames';\nimport React, { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CellType } from 'store/gameSlice';\nimport { IDesignCell, updateCell } from '../../store/designSlice';\nimport { RootState } from '../../store/store';\nimport '../playing/Cell.scss';\nimport '../playing/HintCell.scss';\nimport styles from './DesignCell.module.scss';\nimport HintDialog from './HintDialog';\n\nexport interface Props {\n  cell: IDesignCell;\n  index: number;\n}\n\nconst DesignCell: React.FC<Props> = ({ cell, index }) => {\n  const { activeStep } = useSelector((state: RootState) => state.design);\n  const dispatch = useDispatch();\n  const [dialogVisible, setDialogVisible] = useState(false);\n\n  const hide = () => {\n    setDialogVisible(false);\n  };\n\n  const handleClick = (e: React.MouseEvent) => {\n    if (activeStep === 1) {\n      // Toggle between blank and number cell\n      const newCell = {\n        ...cell,\n        type:\n          cell.type === CellType.BlankCell\n            ? CellType.NumberCell\n            : CellType.BlankCell,\n      };\n      dispatch(updateCell(newCell));\n    } else if (activeStep === 2 && cell.type === CellType.HintCell) {\n      // Show dialog to pick hint value\n      setDialogVisible(true);\n    }\n  };\n\n  const renderHint = (value: number | undefined) => {\n    if (value) {\n      const hintStr = value > 0 ? value : '?';\n      const hintClass = value > 0 ? '' : styles.hintMissing;\n      return <div className={hintClass}>{hintStr}</div>;\n    } else {\n      return null;\n    }\n  };\n\n  return (\n    <>\n      <div\n        className={classnames(styles.designCell, cell.type)}\n        onClick={handleClick}>\n        {/* <div className={styles.index}>{cell.index}</div> */}\n        <div className='horizontalHint'>{renderHint(cell.hintHorizontal)}</div>\n        <div className='verticalHint'>{renderHint(cell.hintVertical)}</div>\n        <div className={styles.solution}>{renderHint(cell.solution)}</div>\n      </div>\n      <HintDialog\n        cell={cell}\n        visible={dialogVisible}\n        onHide={hide}\n        across={cell.hintHorizontal != null}\n        down={cell.hintVertical != null}\n      />\n    </>\n  );\n};\n\nexport default DesignCell;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { IDesignCell } from 'store/designSlice';\nimport { RootState } from '../../store/store';\nimport DesignCell from './DesignCell';\nimport styles from './DrawGrid.module.scss';\n\nconst DrawGrid: React.FC = () => {\n  const {\n    puzzle: { columnCount, cells },\n  } = useSelector((state: RootState) => state.design);\n\n  return (\n    <div>\n      <div className={styles.gameBackground}>\n        <div\n          className={styles.grid}\n          style={{\n            gridTemplateColumns: `repeat(${columnCount}, 1fr)`,\n          }}>\n          {cells.map((c, i) => (\n            <DesignCell key={i} index={i} cell={c as IDesignCell} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DrawGrid;\n","import { InputTextarea } from 'primereact/inputtextarea';\nimport classNames from 'classnames';\nimport myHistory from 'myHistory';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  clearDesignGame,\n  createGame,\n  setActiveStep,\n  solveGame,\n} from 'store/designSlice';\nimport { PuzzleStates, setCurrentGame } from 'store/gameSlice';\nimport { RootState } from '../../store/store';\nimport DesignPanel from './DesignPanel';\nimport DrawGrid from './DrawGrid';\nimport styles from './SaveGame.module.scss';\n\nconst SaveGame: React.FC = () => {\n  const [exportVisible, setExportVisible] = useState(false);\n  const [puzzleJSON, setPuzzleJSON] = useState('');\n  const { activeStep, puzzle } = useSelector(\n    (state: RootState) => state.design\n  );\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setPuzzleJSON(JSON.stringify(puzzle));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [puzzle]);\n\n  const handleBack = () => {\n    dispatch(setActiveStep(activeStep - 1));\n  };\n\n  const handlePlay = () => {\n    dispatch(setCurrentGame(puzzle));\n    myHistory.push('/play');\n  };\n\n  const handleSolve = () => {\n    dispatch(solveGame());\n  };\n\n  const handleSend = () => {\n    dispatch(setCurrentGame(puzzle));\n    dispatch(createGame(puzzle));\n  };\n\n  const handleClear = () => {\n    dispatch(clearDesignGame());\n  };\n\n  return (\n    <DesignPanel handleBack={handleBack}>\n      <>\n        <Button\n          label='Play Locally'\n          icon='mdi mdi-play'\n          onClick={handlePlay}\n          className={styles.button}\n        />\n\n        <Button\n          label='Export Puzzle'\n          icon='mdi mdi-export'\n          onClick={() => setExportVisible(true)}\n          className={styles.button}\n        />\n\n        <Button\n          label='Solve'\n          icon='mdi mdi-brain'\n          onClick={handleSolve}\n          className={styles.button}\n        />\n\n        <Button\n          label='Send to Server & Play'\n          icon='mdi mdi-send'\n          onClick={handleSend}\n          className={styles.button}\n          disabled={puzzle.state !== PuzzleStates.Solved}\n        />\n\n        <Button\n          label='Start Over'\n          icon='mdi mdi-restart'\n          onClick={handleClear}\n          className={classNames(\n            styles.button,\n            'p-button-warning',\n            'p-button-success'\n          )}\n        />\n\n        <Dialog\n          header='Spiel exportieren'\n          visible={exportVisible}\n          style={{ width: '50vw' }}\n          modal\n          onHide={() => setExportVisible(false)}>\n          <InputTextarea\n            rows={8}\n            style={{ width: '100%' }}\n            value={puzzleJSON}\n          />\n        </Dialog>\n      </>\n\n      <DrawGrid />\n    </DesignPanel>\n  );\n};\n\nexport default SaveGame;\n","import { CellType, IGameData } from 'store/gameSlice';\nimport { getColumnForCell, getRowForCell } from './pencilmarks';\n\nexport interface IValidatePuzzleResult {\n  valid: boolean;\n  message: string;\n}\n\nfunction validatePuzzle(puzzle: IGameData): IValidatePuzzleResult {\n  const { cells } = puzzle;\n  let numberCount = 0;\n\n  // check that there is at least two groups with count > 1\n  // and that there are no groups with count 1\n  for (let index = 0; index < cells.length; index++) {\n    const cell = cells[index];\n\n    if (cell.type === CellType.NumberCell) {\n      numberCount += 1;\n\n      const row = getRowForCell(puzzle, cell.index);\n      if (row.count === 1) {\n        return {\n          valid: false,\n          message: 'There is at least one group across with only one cell',\n        };\n      }\n\n      const column = getColumnForCell(puzzle, cell.index);\n      if (column.count === 1) {\n        return {\n          valid: false,\n          message: 'There is at least one group down with only one cell',\n        };\n      }\n    }\n  }\n\n  return numberCount < 3\n    ? { valid: false, message: 'Too few number cells' }\n    : { valid: true, message: 'Puzzle grid is fine' };\n}\n\nexport default validatePuzzle;\n","import { setErrorAlert } from 'features/alerts/alertSlice';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setActiveStep } from 'store/designSlice';\nimport validatePuzzle from 'utils/validateGrid';\nimport { RootState } from '../../store/store';\nimport DesignPanel from './DesignPanel';\nimport DrawGrid from './DrawGrid';\n\nconst SetCells: React.FC = () => {\n  const { activeStep, puzzle } = useSelector(\n    (state: RootState) => state.design\n  );\n  const dispatch = useDispatch();\n\n  const handleBack = () => {\n    dispatch(setActiveStep(activeStep - 1));\n  };\n\n  const handleNext = () => {\n    const res = validatePuzzle(puzzle);\n    if (res.valid) {\n      dispatch(setActiveStep(activeStep + 1));\n    } else {\n      dispatch(setErrorAlert(res.message));\n    }\n  };\n\n  return (\n    <DesignPanel handleBack={handleBack} handleNext={handleNext}>\n      <DrawGrid />\n    </DesignPanel>\n  );\n};\n\nexport default SetCells;\n","import { setErrorAlert } from 'features/alerts/alertSlice';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { makeHintCells, setActiveStep } from 'store/designSlice';\nimport checkPuzzle from 'utils/checkPuzzle';\nimport { RootState } from '../../store/store';\nimport DesignPanel from './DesignPanel';\nimport DrawGrid from './DrawGrid';\n\nconst SetHints: React.FC = () => {\n  const { activeStep, puzzle } = useSelector((state: RootState) => state.design);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(makeHintCells());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleBack = () => {\n    dispatch(setActiveStep(activeStep - 1));\n  };\n\n  const handleNext = () => {\n    const isValid = checkPuzzle(puzzle);\n\n    if (isValid) {\n      dispatch(setActiveStep(activeStep + 1));\n    } else {\n      dispatch(setErrorAlert(\"Not all hints provided\"))\n    }\n  };\n\n  return (\n    <DesignPanel handleNext={handleNext} handleBack={handleBack}>\n      <DrawGrid />\n    </DesignPanel>\n  );\n};\n\nexport default SetHints;\n","import { ErrorMessage, Field } from 'formik';\nimport React from 'react';\n\ninterface Props {\n  name: string;\n  label: string;\n  as: any;\n  hint?: string;\n  [key: string]: any;\n}\n\nconst MyInput: React.FC<Props> = props => {\n  const { label, name, hint } = props;\n\n  return (\n    <div className='field grid'>\n      {/* <label htmlFor={name} className='block text-900 font-medium mb-2'> */}\n      <label htmlFor={name} className='col-12 mb-2 md:col-2 md:mb-0'>\n        {label}\n      </label>\n\n      <div className='col-12 md:col-10'>\n        {/* <Field {...props} className='w-full mb-3' /> */}\n        <Field {...props} className=\"inputfield w-full\" />\n        {hint && <div dangerouslySetInnerHTML={{ __html: hint }} />}\n        <ErrorMessage\n          name={name}\n          component='div'\n          className='fieldErrorMessage'\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MyInput;\n","import {\n  SelectButton,\n  SelectButtonChangeParams,\n} from 'primereact/selectbutton';\nimport React from 'react';\n\ninterface Props {\n  field: string;\n  label: string;\n  values: { [key: string]: any };\n  options: any;\n  setFieldValue: (label: string, newValue: number) => void;\n}\n\nconst MySlider: React.FC<Props> = ({\n  values,\n  field,\n  label,\n  options,\n  setFieldValue,\n}) => {\n  const handleChange = (event: SelectButtonChangeParams) => {\n    setFieldValue(field, event.value as number);\n  };\n\n  return (\n    <div className='field grid'>\n      <label htmlFor={field} className='col-12 mb-2 md:col-2 md:mb-0'>\n        {label}\n      </label>\n\n      <div className='col-12 md:col-10'>\n        <SelectButton\n          id={field}\n          value={values[field]}\n          options={options}\n          onChange={event => handleChange(event)}\n          className='justify-content-start'\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MySlider;\n","import { InputNumber } from 'primereact/inputnumber';\nimport { Slider, SliderChangeParams } from 'primereact/slider';\nimport React from 'react';\n\ninterface Props {\n  field: string;\n  label: string;\n  values: { [key: string]: any };\n  min?: number;\n  max?: number;\n  setFieldValue: (label: string, newValue: number) => void;\n}\n\nconst MySlider: React.FC<Props> = ({\n  values,\n  field,\n  label,\n  setFieldValue,\n  min,\n  max,\n}) => {\n  const handleChange = (event: SliderChangeParams) => {\n    setFieldValue(field, event.value as number);\n  };\n\n  return (\n    <div className='field grid'>\n      <label htmlFor={field} className='col-12 mb-2 md:col-2 md:mb-0'>\n        {label}\n      </label>\n\n      <div className='col-12 md:col-10'>\n        <InputNumber\n          value={values[field]}\n          onChange={event => handleChange(event)}\n          className='inputfield w-full'\n        />\n\n        <Slider\n          id={field}\n          value={values[field]}\n          onChange={event => handleChange(event)}\n          min={min}\n          max={max}\n          className='inputfield w-full'\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default MySlider;\n","import MyInput from 'components/MyInput';\nimport MySelectButton from 'components/MySelectButton';\nimport MySlider from 'components/MySlider';\nimport { Form, Formik, FormikProps } from 'formik';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport { InputText } from 'primereact/inputtext';\nimport { InputTextarea } from 'primereact/inputtextarea';\nimport React, { useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setActiveStep, setBaseGame, setPuzzleState } from 'store/designSlice';\nimport { IBaseGame, IGameData } from 'store/gameSlice';\nimport * as Yup from 'yup';\nimport { RootState } from '../../store/store';\nimport DesignPanel from './DesignPanel';\n\nconst minColumns = 4;\n\nconst difficulties = [\n  {\n    label: 'Easy',\n    value: 0,\n  },\n  {\n    label: 'Medium',\n    value: 1,\n  },\n  {\n    label: 'Medium Plus',\n    value: 2,\n  },\n  {\n    label: 'Hard',\n    value: 3,\n  },\n  {\n    label: 'Very Hard',\n    value: 4,\n  },\n];\n\nconst PuzzleSchema = Yup.object().shape({\n  name: Yup.string()\n    .max(50, 'Must be 50 characters or less')\n    .required('Required'),\n  level: Yup.number().min(0).max(4).required(),\n  columnCount: Yup.number()\n    .min(minColumns, `Must be between ${minColumns} and 30`)\n    .max(30)\n    .required('Required'),\n  rowCount: Yup.number()\n    .min(minColumns, `Must be between ${minColumns} and 30`)\n    .max(30)\n    .required('Required'),\n});\n\nconst SetSize: React.FC = () => {\n  const [importVisible, setImportVisible] = useState(false);\n  const [puzzleJSON, setPuzzleJSON] = useState('');\n  const dispatch = useDispatch();\n  const { activeStep, puzzle } = useSelector(\n    (state: RootState) => state.design\n  );\n  const initialValues: IBaseGame = puzzle;\n  // const formikRef = useRef<FormikProps<FormikValues>>(null);\n  const formikRef = useRef<FormikProps<IBaseGame>>(null);\n\n  const handleNext = () => {\n    console.log('Click');\n    if (formikRef.current) {\n      formikRef.current.handleSubmit();\n    }\n\n    dispatch(setActiveStep(activeStep + 1));\n  };\n\n  const handleSubmit = (values: IBaseGame) => {\n    dispatch(setBaseGame(values));\n  };\n\n  const handleImport = (e: React.MouseEvent) => {\n    const newPuzzle: IGameData = JSON.parse(puzzleJSON);\n    console.log('newPuzzle', newPuzzle);\n    setImportVisible(false);\n    dispatch(setPuzzleState({ activeStep: 1, puzzle: newPuzzle }));\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      initialValues={initialValues}\n      onSubmit={handleSubmit}\n      validationSchema={PuzzleSchema}\n      innerRef={formikRef}>\n      {({ setFieldValue, values }) => (\n        <DesignPanel handleNext={handleNext}>\n          <h1>Import Puzzle</h1>\n\n          <Button\n            label='Import Puzzle'\n            icon='mdi mdi-import'\n            onClick={() => setImportVisible(true)}\n            // className={styles.button}\n          />\n\n          <h1>…Or Create Puzzle</h1>\n          <Form>\n            <MyInput name='name' label='Puzzle Name' as={InputText} />\n\n            <MySelectButton\n              field='level'\n              label='Difficulty'\n              setFieldValue={setFieldValue}\n              options={difficulties}\n              values={values}\n            />\n\n            <MySlider\n              field='columnCount'\n              label='Columns Across'\n              setFieldValue={setFieldValue}\n              min={minColumns}\n              max={40}\n              values={values}\n            />\n\n            <MySlider\n              field='rowCount'\n              label='Rows Down'\n              setFieldValue={setFieldValue}\n              min={minColumns}\n              max={40}\n              values={values}\n            />\n\n            {/* <Button type='submit' label='Set Size' className='' /> */}\n          </Form>\n\n          <Dialog\n            header='Spiel importieren'\n            visible={importVisible}\n            style={{ width: '50vw' }}\n            modal\n            onHide={() => setImportVisible(false)}>\n            <InputTextarea\n              rows={8}\n              style={{ width: '100%' }}\n              value={puzzleJSON}\n              onChange={event => setPuzzleJSON(event.target.value)}\n            />\n            <Button label='Import' onClick={handleImport} />\n          </Dialog>\n        </DesignPanel>\n      )}\n    </Formik>\n  );\n};\n\nexport default SetSize;\n","import { Panel } from 'primereact/panel';\nimport { Steps } from 'primereact/steps';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { designSteps, setPuzzleState } from 'store/designSlice';\nimport { RootState } from '../../store/store';\nimport styles from './CreateGame.module.scss';\nimport SaveGame from './SaveGame';\nimport SetCells from './SetCells';\nimport SetHints from './SetHints';\nimport SetSize from './SetSize';\n\nconst CreateGame: React.FC = () => {\n  const dispatch = useDispatch();\n  const { activeStep } = useSelector((state: RootState) => state.design);\n\n  useEffect(() => {\n    const puzzleStateJSON = localStorage.getItem('puzzleState');\n    if (puzzleStateJSON) {\n      console.log('Found puzzle in local storage');\n      const state = JSON.parse(puzzleStateJSON);\n      dispatch(setPuzzleState(state));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className={styles.createGame}>\n      <Panel header='Create a new Kakuro puzzle'>\n        <div className={styles.createSteps}>\n          <Steps model={designSteps} activeIndex={activeStep} />\n        </div>\n      </Panel>\n\n      {activeStep === 0 && <SetSize />}\n      {activeStep === 1 && <SetCells />}\n      {activeStep === 2 && <SetHints />}\n      {activeStep === 3 && <SaveGame />}\n    </div>\n  );\n};\n\nexport default CreateGame;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport classNames from 'classnames';\nimport { Button } from 'primereact/button';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './MainMenu.module.scss';\n\nconst MainMenu: React.FC = () => {\n  return (\n    <div className={styles.content}>\n      <div className={classNames('text-center')}>\n        <div className='mb-3 font-bold text-2xl'>\n          <span className='text-900'>The best </span>\n          <span className='text-blue-600'>Kakuro Game </span>\n          <span className='text-900'>money can buy</span>\n        </div>\n        <div className='text-700 text-sm mb-6'>\n          All of this is work in progress, so be patient and stay tuned.\n        </div>\n        <div className='grid'>\n          <div className='col-12 md:col-4 mb-4 px-5'>\n            <Link to='/create'>\n              <Button icon='mdi mdi-pencil' className='p-button-lg' />\n            </Link>\n            <div className='text-900 mb-3 font-medium'>Create new game</div>\n          </div>\n          <div className='col-12 md:col-4 mb-4 px-5'>\n            <Link to='/play'>\n              <Button\n                icon='mdi mdi-controller-classic'\n                className='p-button-lg'\n              />\n            </Link>\n            <div className='text-900 mb-3 font-medium'>Play Game!</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MainMenu;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport getCombinations from 'utils/getCombinations';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../store/store';\nimport styles from './CombinationLine.module.scss';\n\nconst CombinationLine: React.FC = () => {\n  const { hints } = useSelector((state: RootState) => state.game);\n  const [possibilities, setPossibilities] = useState<number[][][]>([[], []]);\n\n  const renderDigit = (d: number, direction: number) => {\n    const key = 'd' + d + '' + direction;\n\n    if (hints[direction].used.includes(d)) {\n      return <span className={styles.highlight} key={key}>{d}</span>;\n    } else {\n      return <span key={key}>{d}</span>;\n    }\n  };\n\n  const renderPossibility = (a: number[], index: number, direction: number) => {\n    const key = 'p' + a[0] + '' + index + '' + direction;\n\n    return (\n      <span className={styles.possibility} key={key}>\n        {a.map(d => renderDigit(d, direction))}\n      </span>\n    );\n  };\n\n  const renderPossibilities = (a: number[][], direction: number) => {\n    const key = 'ps' + a[0] + '' + direction;\n\n    return <span key={key}>{a.map((b, i) => renderPossibility(b, i, direction))}</span>;\n  };\n\n  const renderLine = (direction: number) => (\n    <>\n      <span className={styles.sum}>{hints[direction].sum}:</span>\n      {renderPossibilities(possibilities[direction], direction)}\n    </>\n  );\n\n  useEffect(() => {\n    if (hints[0].index > -1) {\n      setPossibilities([\n        getCombinations(hints[0]),\n        getCombinations(hints[1]),\n      ]);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [hints]);\n\n  return (\n    <div className={styles.combinations}>\n      <div className={styles.text}>\n        <div>{hints && renderLine(0)}</div>\n        <div>{hints && renderLine(1)}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default CombinationLine;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setGuess, togglePencilMark } from '../../store/gameSlice';\nimport { RootState } from '../../store/store';\nimport styles from './GuessButton.module.scss';\nimport { Button } from 'primereact/button';\nimport classNames from 'classnames';\n\nexport interface Props {\n  digit: number;\n  pencilMark: boolean;\n}\n\nconst GuessButton: React.FC<Props> = ({ digit, pencilMark }) => {\n  const { selectedIndex } = useSelector((state: RootState) => state.game);\n  const dispatch = useDispatch();\n\n  const handleGuessClick = (event: React.MouseEvent) => {\n    if (digit >= 0 && digit <= 9 && selectedIndex) {\n      if (pencilMark) {\n        dispatch(togglePencilMark({ index: selectedIndex, guess: digit }));\n      } else {\n        dispatch(setGuess({ index: selectedIndex, guess: digit }));\n      }\n    }\n  };\n\n  return (\n    <Button\n      className={classNames(styles.guessButton, { pencilMark })}\n      onClick={handleGuessClick}>\n      {digit}\n    </Button>\n  );\n};\n\nexport default GuessButton;\n","import React from 'react';\nimport styles from './Controls.module.scss';\nimport classnames from 'classnames';\nimport GuessButton from './GuessButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../../store/store';\nimport { autoPencil, setGuess } from '../../store/gameSlice';\nimport { Button } from 'primereact/button';\n\n/*\n * Here be number buttons for guesses and pencil marks\n */\nconst Controls: React.FC = () => {\n  const { selectedIndex } = useSelector((state: RootState) => state.game);\n  const dispatch = useDispatch();\n  const digits = [1, 2, 3, 4, 5, 6, 7, 8, 9];\n\n  const handleDeleteClick = (event: React.MouseEvent) => {\n    if (selectedIndex) {\n      dispatch(setGuess({ index: selectedIndex, guess: 0 }));\n    }\n  };\n\n  const handleAutoPencil = (event: React.MouseEvent) => {\n    dispatch(autoPencil());\n  };\n\n  const renderButton = (digit: number, pencilMark: boolean) => {\n    return <GuessButton key={digit} digit={digit} pencilMark={pencilMark} />;\n  };\n\n  return (\n    <aside className={classnames('controls', styles.controls)}>\n      <div className={styles.guessButtons}>\n        <div className={styles.columns}>\n          {digits.map(d => renderButton(d, true))}\n        </div>\n\n        <div className={styles.columns}>\n          {digits.map(d => renderButton(d, false))}\n        </div>\n\n        <Button\n          className={classnames('button', 'is-warning', 'is-large')}\n          onClick={handleDeleteClick}>\n          X\n        </Button>\n\n        <Button\n          className={classnames('button is-large')}\n          onClick={handleAutoPencil}>\n          Auto Pencil\n        </Button>\n      </div>\n\n      <div className='pencilmarks'></div>\n    </aside>\n  );\n};\n\nexport default Controls;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport classnames from 'classnames';\nimport React from 'react';\nimport { IBlankCell } from '../../store/gameSlice';\nimport styles from './BlankCell.module.scss';\n\nexport interface Props {\n  cell: IBlankCell;\n  index: number;\n}\n\nconst BlankCell: React.FC<Props> = ({ cell, index }) => {\n  return <div className={classnames('gamecell', styles.blank)}></div>;\n};\n\nexport default BlankCell;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport classnames from 'classnames';\nimport React from 'react';\nimport { IHintCell } from '../../store/gameSlice';\nimport './HintCell.scss';\n\nexport interface Props {\n  cell: IHintCell;\n  index: number;\n}\n\nconst HintCell: React.FC<Props> = ({ cell, index }) => {\n  return (\n    <div className={classnames('gamecell', 'hintCell')}>\n      <div className='horizontalHint'>{cell.hintHorizontal}</div>\n      <div className='verticalHint'>{cell.hintVertical}</div>\n    </div>\n  );\n};\n\nexport default HintCell;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport classnames from 'classnames';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { INumberCell, setSelectedIndex } from '../../store/gameSlice';\nimport styles from './NumberCell.module.scss';\nimport { RootState } from '../../store/store';\nimport { useSelector } from 'react-redux';\n\nexport interface Props {\n  cell: INumberCell;\n  index: number;\n}\n\nconst NumberCell: React.FC<Props> = ({ cell, index }) => {\n  const selectedIndex = useSelector(\n    (state: RootState) => state.game.selectedIndex\n  );\n  const dispatch = useDispatch();\n\n  const handleClick = (event: React.MouseEvent) => {\n    dispatch(setSelectedIndex(index));\n  };\n\n  return (\n    <div\n      className={classnames('gamecell', styles.number, {\n        selected: index === selectedIndex,\n      })}\n      onClick={handleClick}>\n      {cell.guess > 0 && (\n        <div className={classnames(styles.guess)}>{cell.guess}</div>\n      )}\n      {!cell.guess && cell.pencilMarks?.length > 0 && (\n        <div className={classnames(styles.pencilMarks)}>{cell.pencilMarks.join('')}</div>\n      )}\n    </div>\n  );\n};\n\nexport default NumberCell;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport classnames from 'classnames';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  CellType,\n  fetchGame,\n  IBlankCell,\n  ICell,\n  IHintCell,\n  INumberCell,\n  setGuess,\n} from '../../store/gameSlice';\nimport { RootState } from '../../store/store';\nimport BlankCell from './BlankCell';\nimport './Cell.scss';\nimport styles from './GameGrid.module.scss';\nimport HintCell from './HintCell';\nimport NumberCell from './NumberCell';\n\nconst GameGrid: React.FC = () => {\n  const { game, selectedIndex } = useSelector((state: RootState) => state.game);\n  const dispatch = useDispatch();\n\n  const handleKeyPress = (event: any) => {\n    if (!selectedIndex) {\n      // do nothing if no cell selected\n      return;\n    }\n\n    if (event.key >= '0' && event.key <= '9') {\n      dispatch(setGuess({ index: selectedIndex, guess: +event.key }));\n    } else if (event.key === 'Delete') {\n      dispatch(setGuess({ index: selectedIndex, guess: 0 }));\n    } else {\n      console.log('Key pressed:', event.key);\n    }\n  };\n\n  const renderCell = (cell: ICell, index: number) => {\n    if (cell.type === CellType.BlankCell) {\n      return <BlankCell cell={cell as IBlankCell} index={index} key={index} />;\n    } else if (cell.type === CellType.HintCell) {\n      return <HintCell cell={cell as IHintCell} index={index} key={index} />;\n    } else {\n      // type == Number\n      return (\n        <NumberCell cell={cell as INumberCell} index={index} key={index} />\n      );\n    }\n  };\n\n  const renderGrid = () => {\n    if (!game) {\n      return;\n    }\n\n    return (\n      <div\n        className={styles.grid}\n        style={{\n          gridTemplateColumns: `repeat(${game!.columnCount}, 1fr)`,\n          gridTemplateRows: `repeat(${game!.rowCount}, 1fr)`,\n        }}>\n        {game.cells.map((cell, i) => renderCell(cell, i))}\n      </div>\n    );\n  };\n\n  useEffect(() => {\n    if (game == null) {\n      dispatch(fetchGame());\n    }\n  }, []);\n\n  return (\n    <div className={classnames('main', styles.gameBackground)}>\n      <div className={styles.gamegrid} onKeyDown={handleKeyPress} tabIndex={-1}>\n        {renderGrid()}\n      </div>\n    </div>\n  );\n};\n\nexport default GameGrid;\n","import CombinationLine from './CombinationLine';\nimport React from 'react';\nimport Controls from './Controls';\nimport GameGrid from './GameGrid';\n\nconst PlayGame: React.FC = () => {\n  return (\n    <>\n      <div className='content'>\n        <GameGrid />\n        <Controls />\n      </div>\n\n      <CombinationLine />\n    </>\n  );\n};\n\nexport default PlayGame;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport MyInput from 'components/MyInput';\nimport { Form, Formik } from 'formik';\nimport myHistory from 'myHistory';\nimport { Button } from 'primereact/button';\nimport { InputText } from 'primereact/inputtext';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { RootState } from 'store/store';\nimport { ISigninValues, login } from 'store/userSlice';\n\nconst SignIn: React.FC = () => {\n  const dispatch = useDispatch();\n  const { user } = useSelector((state: RootState) => state.users);\n  // const [checked, setChecked] = useState(false);\n\n  const initialValues: ISigninValues = {\n    email: '',\n    password: '',\n  };\n\n  const handleSubmit = (values: ISigninValues) => {\n    dispatch(login(values));\n  };\n\n  useEffect(() => {\n    if (user) {\n      myHistory.push('/');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  return (\n    <div\n      className='flex align-items-center justify-content-center'\n      style={{ height: '60%' }}>\n      <div className='surface-card p-4 shadow-2 border-round w-full lg:w-6'>\n        <div className='text-center mb-5'>\n          {/* <img\n            src='assets/images/blocks/logos/hyper.svg'\n            alt='hyper'\n            height={50}\n            className='mb-3'\n          /> */}\n          <div className='text-900 text-3xl font-medium mb-3'>\n            Welcome Back to Mr K.'s Kakuro\n          </div>\n          <span className='text-600 font-medium line-height-3'>\n            Don't have an account?\n          </span>\n          <Link\n            className='font-medium no-underline ml-2 text-blue-500 cursor-pointer'\n            to='/signup'>\n            Create one today!\n          </Link>\n        </div>\n\n        <Formik\n          // enableReinitialize\n          initialValues={initialValues}\n          onSubmit={handleSubmit}\n          // validationSchema={UserSchema}\n        >\n          {({ setFieldValue, values }) => (\n            <Form className='p-fluid'>\n              <MyInput\n                name='email'\n                label='Email'\n                as={InputText}\n                className='block text-900 font-medium mb-2'\n              />\n              <MyInput\n                name='password'\n                label='Password'\n                type='password'\n                as={InputText}\n                className='block text-900 font-medium mb-2'\n              />\n\n              <Button\n                type='submit'\n                label='Sign In!'\n                icon='mdi mdi-login-variant'\n                className='w-full'\n              />\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default SignIn;\n","/* eslint-disable react-hooks/exhaustive-deps */\nimport MyInput from 'components/MyInput';\nimport { Form, Formik } from 'formik';\nimport myHistory from 'myHistory';\nimport { Button } from 'primereact/button';\nimport { InputText } from 'primereact/inputtext';\nimport React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { ISignUpValues, signUp } from 'store/userSlice';\nimport * as Yup from 'yup';\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(3)\n    .max(50, 'Must be 50 characters or less')\n    .required('Required'),\n  email: Yup.string()\n    .max(50, 'Must be 50 characters or less')\n    .required('Required'),\n  password: Yup.string()\n    .min(10, 'Must be at least 10 characters')\n    .max(25, 'Must be 25 characters or less')\n    .required('Required'),\n});\n\nconst SignUp: React.FC = () => {\n  const dispatch = useDispatch();\n  // const [checked, setChecked] = useState(false);\n\n  const handleSubmit = (values: ISignUpValues) => {\n    dispatch(signUp(values));\n    myHistory.push('/')\n  };\n\n  const initialValues: ISignUpValues = {\n    name: '',\n    email: '',\n    password: '',\n  };\n\n  return (\n    <div\n      className='flex align-items-center justify-content-center'\n      style={{ height: '60%' }}>\n      <div className='surface-card p-4 shadow-2 border-round w-full lg:w-6'>\n        <div className='text-center mb-5'>\n          {/* <img\n            src='assets/images/blocks/logos/hyper.svg'\n            alt='hyper'\n            height={50}\n            className='mb-3'\n          /> */}\n          <div className='text-900 text-3xl font-medium mb-3'>\n            Sign Up For Mr K.'s Kakuro\n          </div>\n          <span className='text-600 font-medium line-height-3'>\n            Already have an account?\n          </span>\n          <Link\n            className='font-medium no-underline ml-2 text-blue-500 cursor-pointer'\n            to='/signin'>\n            Sign In!\n          </Link>\n        </div>\n\n        <Formik\n          enableReinitialize\n          initialValues={initialValues}\n          onSubmit={handleSubmit}\n          validationSchema={UserSchema}>\n          {({ setFieldValue, values }) => (\n            <Form className='p-fluid'>\n              <MyInput\n                name='name'\n                label='Gamer Name'\n                as={InputText}\n                className='block text-900 font-medium mb-2'\n              />\n              <MyInput\n                name='email'\n                label='Email'\n                as={InputText}\n                className='block text-900 font-medium mb-2'\n              />\n              <MyInput\n                name='password'\n                label='Password'\n                type='password'\n                as={InputText}\n                className='block text-900 font-medium mb-2'\n              />\n\n              <Button\n                type='submit'\n                label='Sign Up!'\n                icon='mdi mdi-account-plus'\n                className='w-full'\n              />\n            </Form>\n          )}\n        </Formik>\n      </div>\n    </div>\n  );\n};\n\nexport default SignUp;\n","import {\n  Action,\n  combineReducers,\n  configureStore,\n  ThunkAction,\n} from '@reduxjs/toolkit';\nimport alertReducer from '../features/alerts/alertSlice';\nimport gameReducer from './gameSlice';\nimport designReducer from './designSlice';\nimport userReducer from './userSlice';\n\nexport const rootReducer = combineReducers({\n  alerts: alertReducer,\n  game: gameReducer,\n  design: designReducer,\n  users: userReducer,\n});\n\nconst store = configureStore({\n  devTools: process.env.NODE_ENV !== 'production',\n  reducer: rootReducer,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import MyMenubar from 'components/MyMenubar';\nimport Alerts from 'features/alerts/Alerts';\nimport CreateGame from 'features/creating/CreateGame';\nimport MainMenu from 'features/menu/MainMenu';\nimport PlayGame from 'features/playing/PlayGame';\nimport SignIn from 'features/users/SignIn';\nimport SignUp from 'features/users/SignUp';\nimport myHistory from 'myHistory';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport './App.scss';\nimport store from './store/store';\n\nconst App: React.FC = () => {\n  return (\n    <Provider store={store}>\n      <MyMenubar />\n      <Alerts />\n\n      <Router history={myHistory}>\n        <Switch>\n          <Route path='/create'>\n            <CreateGame />\n          </Route>\n          <Route path='/play'>\n            <PlayGame />\n          </Route>\n          <Route path='/signin'>\n            <SignIn />\n          </Route>\n          <Route path='/signup'>\n            <SignUp />\n          </Route>\n          <Route path='/'>\n            <MainMenu />\n          </Route>\n        </Switch>\n      </Router>\n    </Provider>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"SaveGame_button__3Is-u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"combinations\":\"CombinationLine_combinations__2uXXm\",\"text\":\"CombinationLine_text__3BaJ1\",\"sum\":\"CombinationLine_sum__ijz9v\",\"possibility\":\"CombinationLine_possibility__ru2Ma\",\"highlight\":\"CombinationLine_highlight__2hWQX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__fpjJI\",\"columns\":\"Controls_columns__1dogA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"designCell\":\"DesignCell_designCell__1mdb1\",\"hintMissing\":\"DesignCell_hintMissing__GjhmS\",\"solution\":\"DesignCell_solution__1hCNm\",\"index\":\"DesignCell_index__1hyaN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"HintDialog_label__1UY5p\",\"buttonGrid\":\"HintDialog_buttonGrid__3MkIY\",\"button\":\"HintDialog_button__2lNtm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gameBackground\":\"GameGrid_gameBackground__2gUQF\",\"grid\":\"GameGrid_grid__3SI7n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"number\":\"NumberCell_number__1mt2Y\",\"guess\":\"NumberCell_guess__1Iq08\"};"],"sourceRoot":""}