(this.webpackJsonpkakuro=this.webpackJsonpkakuro||[]).push([[0],{10:function(e,n,t){e.exports={hint:"HintCell_hint__11Qo5",verticalHint:"HintCell_verticalHint__1uE5f",horizontalHint:"HintCell_horizontalHint__1K2-x"}},11:function(e,n,t){e.exports={number:"NumberCell_number__3Tz54",guess:"NumberCell_guess__EikMx"}},12:function(e,n,t){e.exports={controls:"Controls_controls__2tkdC",columns:"Controls_columns__2txFE"}},29:function(e,n,t){e.exports={blank:"BlankCell_blank__3hSGd"}},30:function(e,n,t){e.exports={guessButton:"GuessButton_guessButton__Tugwc"}},35:function(e,n,t){},6:function(e,n,t){e.exports={combinations:"CombinationLine_combinations__2C57N",text:"CombinationLine_text__1uRFE",sum:"CombinationLine_sum__18MvN",possibility:"CombinationLine_possibility__meNi6",highlight:"CombinationLine_highlight__1cxYc"}},63:function(e,n,t){},64:function(e,n,t){},65:function(e,n,t){"use strict";t.r(n);var s=t(0),c=t.n(s),i=t(7),r=t.n(i),a=(t(35),t(2)),u=t(3),l=t.n(u),o=t(16),d=t.n(o),m=t(27),b=t(8),f=t(28),j=t.n(f);function x(e,n){for(var t=[{index:-1,sum:-1,count:-1,used:new Array},{index:-1,sum:-1,count:-1,used:new Array}],s=n;e.cells[s].type===O.Number;){var c=e.cells[s];c.guess>0&&t[0].used.push(c.guess),s--}for(t[0].index=s,t[0].sum=e.cells[s].hintHorizontal||-1,s=n;(s+1)%e.columnCount!==0&&e.cells[s+1].type===O.Number;){s++;var i=e.cells[s];i.guess>0&&t[0].used.push(i.guess)}t[0].count=s-t[0].index;for(var r=n;e.cells[r].type===O.Number;){var a=e.cells[r];a.guess>0&&t[1].used.push(a.guess),r-=e.columnCount}t[1].index=r,t[1].sum=e.cells[r].hintVertical||-1;for(var u=(r=n)+e.columnCount;u<e.cells.length&&e.cells[u].type===O.Number;){r=u;var l=e.cells[r];l.guess>0&&t[1].used.push(l.guess),u=r+e.columnCount}var o=(r-t[1].index)/e.columnCount;return t[1].count=o,t}var g=t(17);function h(e,n){var t=n[e.count][e.sum];return t=t.filter((function(n){return e.used.every((function(e){return n.includes(e)}))}))}function p(e,n,t,s){if(!(e.guess>0)){var c=x(t,n),i=h(c[0],s),r=h(c[1],s),a=Array.from(new Set(i.flat())),u=Array.from(new Set(r.flat())),l=[].concat(Object(g.a)(c[0].used),Object(g.a)(c[1].used)),o=a.filter((function(e){return u.includes(e)&&!l.includes(e)})).sort();e.pencilMarks=o}}var v,O,_=function(e,n){e.cells.forEach((function(t,s){t.type===O.Number&&p(t,s,e,n)}))},N=function(){for(var e={},n=new Array(10).fill(!1),t=function t(s,c){10===c?function(){for(var t=new Array,s=0,c=0,i=1;i<n.length;i++)n[i]&&(t.push(i),s+=1,c+=i);e[s]||(e[s]={}),e[s][c]||(e[s][c]=new Array),e[s][c].push(t)}():(n[c]=!0,t(s,c+1),n[c]=!1,t(s,c+1),c++)},s=1;s<9;s++)n[s]=!0,t(s,s+1),n[s]=!1;return delete e[1],e};!function(e){e[e.Easy=0]="Easy",e[e.Medium=1]="Medium",e[e.MediumPlus=2]="MediumPlus",e[e.Hard=3]="Hard",e[e.VeryHard=4]="VeryHard"}(v||(v={})),function(e){e[e.Blank=0]="Blank",e[e.Hint=1]="Hint",e[e.Number=2]="Number"}(O||(O={}));var y={hints:[{index:-1,sum:-1,count:-1,used:new Array},{index:-1,sum:-1,count:-1,used:new Array}]},k=Object(b.b)({name:"game",initialState:y,reducers:{fetchGameSuccess:function(e,n){e.game=n.payload},fetchCombinations:function(e,n){e.combinations=N()},setSelectedIndex:function(e,n){var t=n.payload;e.selectedIndex=t,e.hints=x(e.game,t)},setGuess:function(e,n){var t=n.payload,s=t.index,c=t.guess,i=JSON.parse(JSON.stringify(e.game)),r=i.cells[s];r.type===O.Number&&(r.guess=c,0===c&&p(r,s,i,e.combinations),e.game=i),e.hints=x(e.game,s)},autoPencil:function(e,n){e.game.cells.forEach((function(e){if(e.type===O.Number){var n,t=e;1===(null===(n=t.pencilMarks)||void 0===n?void 0:n.length)&&(t.guess=t.pencilMarks[0])}})),_(e.game,e.combinations)}}}),C=k.actions,H=C.fetchGameSuccess,w=C.fetchCombinations,B=C.setSelectedIndex,M=C.setGuess,A=C.autoPencil,S=k.reducer,E=t(29),G=t.n(E),I=t(1),z=function(e){e.cell,e.index;return Object(I.jsx)("div",{className:l()("gamecell",G.a.blank)})},P=(t(63),t(9)),L=t.n(P),F=t(10),J=t.n(F),K=function(e){var n=e.cell;e.index;return Object(I.jsxs)("div",{className:l()("gamecell",J.a.hint),children:[Object(I.jsx)("div",{className:J.a.horizontalHint,children:n.hintHorizontal}),Object(I.jsx)("div",{className:J.a.verticalHint,children:n.hintVertical})]})},T=t(11),V=t.n(T),D=function(e){var n,t=e.cell,s=e.index,c=Object(a.c)((function(e){return e.game.selectedIndex})),i=Object(a.b)();return Object(I.jsxs)("div",{className:l()("gamecell",V.a.number,{selected:s===c}),onClick:function(e){i(B(s))},children:[t.guess>0&&Object(I.jsx)("div",{className:l()(V.a.guess),children:t.guess}),!t.guess&&(null===(n=t.pencilMarks)||void 0===n?void 0:n.length)>0&&Object(I.jsx)("div",{className:l()(V.a.pencilMarks),children:t.pencilMarks.join("")})]})},Q=function(){var e=Object(a.c)((function(e){return e.game})),n=e.combinations,t=e.game,c=e.selectedIndex,i=Object(a.b)();return Object(s.useEffect)((function(){null==t&&i(function(){var e=Object(m.a)(d.a.mark((function e(n){var t,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("puzzles/sample.json",{headers:{"Access-Control-Allow-Origin":"*"}});case 3:s=e.sent,t=s.data,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:n(H(t));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}()),null==n&&i(w())}),[]),Object(I.jsx)("div",{className:l()("main",L.a.gameBackground),children:Object(I.jsx)("div",{className:L.a.gamegrid,onKeyDown:function(e){c&&(e.key>="0"&&e.key<="9"?i(M({index:c,guess:+e.key})):"Delete"===e.key?i(M({index:c,guess:0})):console.log("Key pressed:",e.key))},tabIndex:-1,children:function(){if(t)return Object(I.jsx)("div",{className:L.a.grid,children:t.cells.map((function(e,n){return function(e,n){return e.type===O.Blank?Object(I.jsx)(z,{cell:e,index:n},n):e.type===O.Hint?Object(I.jsx)(K,{cell:e,index:n},n):Object(I.jsx)(D,{cell:e,index:n},n)}(e,n)}))})}()})})},R=t(12),X=t.n(R),Y=t(30),q=t.n(Y),U=function(e){var n=e.digit,t=Object(a.c)((function(e){return e.game})).selectedIndex,s=Object(a.b)();return Object(I.jsx)("button",{className:q.a.guessButton,onClick:function(e){n>=0&&n<=9&&t&&s(M({index:t,guess:n}))},children:n})},W=function(){var e=Object(a.c)((function(e){return e.game})).selectedIndex,n=Object(a.b)();return Object(I.jsxs)("aside",{className:l()("controls",X.a.controls),children:[Object(I.jsxs)("div",{className:X.a.guessButtons,children:[Object(I.jsx)("div",{className:X.a.columns,children:[1,2,3,4,5,6,7,8,9].map((function(e){return n=e,Object(I.jsx)(U,{digit:n},n);var n}))}),Object(I.jsx)("button",{className:l()("button","is-warning","is-large"),onClick:function(t){e&&n(M({index:e,guess:0}))},children:"X"}),Object(I.jsx)("button",{className:l()("button is-large"),onClick:function(e){n(A())},children:"Auto Pencil"})]}),Object(I.jsx)("div",{className:"pencilmarks"})]})},Z=(t(64),t(5)),$=Object(Z.b)({game:S}),ee=Object(b.a)({devTools:!1,reducer:$}),ne=t(6),te=t.n(ne),se=function(){var e=Object(a.c)((function(e){return e.game})),n=e.combinations,t=e.hints,s=function(e,n){return Object(I.jsx)("span",{className:te.a.possibility,children:e.map((function(e){return function(e,n){return t[n].used.includes(e)?Object(I.jsx)("span",{className:te.a.highlight,children:e}):Object(I.jsx)("span",{children:e})}(e,n)}))},e.join(""))},c=function(e,n){return Object(I.jsx)("span",{children:e.map((function(e){return s(e,n)}))})};if(-1===t[0].index)return null;var i=function(e){return Object(I.jsxs)("div",{className:"",children:[Object(I.jsxs)("span",{className:te.a.sum,children:[t[e].sum,":"]}),c(r[e],e)]})},r=[h(t[0],n),h(t[1],n)];return Object(I.jsx)("div",{className:te.a.combinations,children:Object(I.jsxs)("div",{className:te.a.text,children:[i(0),i(1)]})})},ce=function(){return Object(I.jsxs)(a.a,{store:ee,children:[Object(I.jsx)("header",{className:"header",children:"Mister K.\u02bcs Kakuro"}),Object(I.jsxs)("div",{className:"content",children:[Object(I.jsx)(Q,{}),Object(I.jsx)(W,{})]}),Object(I.jsx)(se,{})]})},ie=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,66)).then((function(n){var t=n.getCLS,s=n.getFID,c=n.getFCP,i=n.getLCP,r=n.getTTFB;t(e),s(e),c(e),i(e),r(e)}))};r.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(ce,{})}),document.getElementById("root")),ie()},9:function(e,n,t){e.exports={gameBackground:"GameGrid_gameBackground__3HuJu",grid:"GameGrid_grid__129PN"}}},[[65,1,2]]]);
//# sourceMappingURL=main.0014db2f.chunk.js.map